<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä½œå“åŠŸèƒ½æµ‹è¯•</title>
    <style>
        .artwork-card { 
            border: 1px solid #ddd; 
            padding: 20px; 
            margin: 10px; 
            border-radius: 8px; 
        }
        .action-btn { 
            margin: 5px; 
            padding: 8px 12px; 
            background: #007bff; 
            color: white; 
            border: none; 
            border-radius: 4px; 
            cursor: pointer; 
        }
        .action-btn:hover { background: #0056b3; }
        .delete-btn { background: #dc3545; }
        .delete-btn:hover { background: #c82333; }
        #artwork-modal {
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
        }
        .modal-content {
            background: white;
            margin: 10% auto;
            padding: 20px;
            width: 80%;
            max-width: 600px;
            border-radius: 8px;
        }
        .message-toast {
            position: fixed;
            top: 20px; right: 20px;
            padding: 15px;
            border-radius: 8px;
            color: white;
            z-index: 1001;
        }
        .message-toast.success { background: #28a745; }
        .message-toast.error { background: #dc3545; }
    </style>
</head>
<body>
    <h1>ğŸ§ª ä½œå“åŠŸèƒ½æµ‹è¯•é¡µé¢</h1>
    
    <!-- æ¨¡æ‹Ÿä½œå“å¡ç‰‡ -->
    <div class="artwork-card" data-artwork-id="1">
        <h3>æµ‹è¯•ä½œå“ 1</h3>
        <p>è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•ä½œå“</p>
        
        <div class="artwork-actions">
            <button class="action-btn view-btn" onclick="viewArtwork('1')">
                æŸ¥çœ‹è¯¦æƒ…
            </button>
            <button class="action-btn edit-btn" onclick="editArtwork('1')">
                ç¼–è¾‘
            </button>
            <button class="action-btn feature-btn" onclick="featureArtwork('1')">
                è®¾ä¸ºæ¨è
            </button>
            <button class="action-btn share-btn" onclick="shareArtwork('1')">
                åˆ†äº«
            </button>
            <button class="action-btn delete-btn" onclick="deleteArtwork('1')">
                åˆ é™¤
            </button>
        </div>
    </div>

    <!-- ä½œå“è¯¦æƒ…æ¨¡æ€æ¡† -->
    <div id="artwork-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">ä½œå“è¯¦æƒ…</h3>
                <button class="modal-close" onclick="closeModal()" style="float: right;">&times;</button>
            </div>
            <div class="modal-body">
                <div id="modal-content-area">
                    <!-- åŠ¨æ€åŠ è½½ä½œå“è¯¦æƒ… -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // æ¨¡æ‹ŸAPIå“åº”
        const mockArtworkData = {
            id: 1,
            title: 'æµ‹è¯•ä½œå“ 1',
            description: 'è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•ä½œå“çš„è¯¦ç»†æè¿°',
            created_at: '2025å¹´10æœˆ25æ—¥ 14:27',
            artwork_type: 'AIä¸Šè‰²',
            image_url: '/static/images/placeholder.png',
            views: 0,
            likes: 0,
            is_featured: false,
            is_public: true
        };

        function viewArtwork(artworkId) {
            console.log('æŸ¥çœ‹ä½œå“:', artworkId);
            
            // æ¨¡æ‹ŸAPIè°ƒç”¨
            if (artworkId === '1') {
                showArtworkModal(mockArtworkData);
            } else {
                showMessage('ä½œå“ä¸å­˜åœ¨', 'error');
            }
        }

        function editArtwork(artworkId) {
            console.log('ç¼–è¾‘ä½œå“:', artworkId);
            showMessage(`æ­£åœ¨è·³è½¬åˆ°ç¼–è¾‘é¡µé¢ (ä½œå“ID: ${artworkId})`, 'success');
        }

        function shareArtwork(artworkId) {
            console.log('åˆ†äº«ä½œå“:', artworkId);
            const url = `http://localhost:8080/artwork/${artworkId}`;
            
            if (navigator.clipboard) {
                navigator.clipboard.writeText(url).then(() => {
                    showMessage('ä½œå“é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼', 'success');
                }).catch(() => {
                    showMessage('å¤åˆ¶å¤±è´¥', 'error');
                });
            } else {
                showMessage('æµè§ˆå™¨ä¸æ”¯æŒå¤åˆ¶åŠŸèƒ½', 'error');
            }
        }

        function deleteArtwork(artworkId) {
            console.log('åˆ é™¤ä½œå“:', artworkId);
            
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä»¶ä½œå“å—ï¼Ÿåˆ é™¤åæ— æ³•æ¢å¤ã€‚')) {
                // æ¨¡æ‹Ÿåˆ é™¤
                const artworkCard = document.querySelector(`[data-artwork-id="${artworkId}"]`);
                if (artworkCard) {
                    artworkCard.style.opacity = '0.5';
                    showMessage('ä½œå“åˆ é™¤ä¸­...', 'success');
                    
                    setTimeout(() => {
                        artworkCard.remove();
                        showMessage('ä½œå“å·²åˆ é™¤', 'success');
                    }, 1000);
                }
            }
        }

        async function featureArtwork(artworkId) {
            console.log('è®¾ä¸ºæ¨è:', artworkId);
            showMessage(`æ­£åœ¨è®¾ç½®ä½œå“ ${artworkId} ä¸ºæ¨èä½œå“`, 'success');
        }

        function showArtworkModal(artwork) {
            const modal = document.getElementById('artwork-modal');
            const modalTitle = document.getElementById('modal-title');
            const modalContent = document.getElementById('modal-content-area');
            
            modalTitle.textContent = artwork.title || 'æˆ‘çš„ä½œå“';
            modalContent.innerHTML = `
                <div class="artwork-detail">
                    <div class="artwork-image-large">
                        <img src="${artwork.image_url}" alt="${artwork.title}" style="max-width: 100%; height: auto;">
                    </div>
                    <div class="artwork-info-detail">
                        <p><strong>åˆ›ä½œæ—¶é—´ï¼š</strong>${artwork.created_at}</p>
                        <p><strong>ä½œå“ç±»å‹ï¼š</strong>${artwork.artwork_type}</p>
                        <p><strong>æµè§ˆæ¬¡æ•°ï¼š</strong>${artwork.views}</p>
                        <p><strong>ç‚¹èµæ•°é‡ï¼š</strong>${artwork.likes}</p>
                        ${artwork.description ? `<p><strong>ä½œå“æè¿°ï¼š</strong>${artwork.description}</p>` : ''}
                    </div>
                </div>
            `;
            
            modal.style.display = 'block';
        }
        
        function closeModal() {
            document.getElementById('artwork-modal').style.display = 'none';
        }
        
        // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
        window.onclick = function(event) {
            const modal = document.getElementById('artwork-modal');
            if (event.target === modal) {
                closeModal();
            }
        }

        function showMessage(message, type) {
            const toast = document.createElement('div');
            toast.className = `message-toast ${type}`;
            toast.textContent = message;
            
            document.body.appendChild(toast);
            
            setTimeout(() => {
                if (document.body.contains(toast)) {
                    document.body.removeChild(toast);
                }
            }, 3000);
        }

        // æµ‹è¯•æ‰€æœ‰åŠŸèƒ½
        function runTests() {
            console.log('ğŸ§ª å¼€å§‹åŠŸèƒ½æµ‹è¯•...');
            
            setTimeout(() => viewArtwork('1'), 1000);
            setTimeout(() => closeModal(), 3000);
            setTimeout(() => shareArtwork('1'), 4000);
            setTimeout(() => featureArtwork('1'), 5000);
            
            console.log('âœ… æ‰€æœ‰æµ‹è¯•å®Œæˆ');
        }

        // é¡µé¢åŠ è½½å®Œæˆåè¿è¡Œæµ‹è¯•
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ“„ æµ‹è¯•é¡µé¢åŠ è½½å®Œæˆ');
            console.log('ğŸ’¡ ç‚¹å‡»æŒ‰é’®æµ‹è¯•åŠŸèƒ½ï¼Œæˆ–è¿è¡Œ runTests() è‡ªåŠ¨æµ‹è¯•');
        });
    </script>
</body>
</html>